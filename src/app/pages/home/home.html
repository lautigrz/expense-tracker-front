<main @revealTopToBottom>
    <nav>
        <app-nav (addExpense)="openDialog()"></app-nav>
    </nav>
    <section class="parent">
        <div class="total-semana">
            <app-total-gastos title="Total gastado esta semana"
                totalGastado="{{totalSemana | number:'1.2-2'}}"></app-total-gastos>
        </div>
        <div class="total-mes"> <app-total-gastos title="Total gastado en el mes"
                totalGastado="{{totalMes | number:'1.2-2'}}"></app-total-gastos></div>
    </section>

    <section class="content-grafico">

        <app-grafico-gastos></app-grafico-gastos>


    </section>

    <section class="content-movimientos">
        <h2 class="card-title">Ãšltimos Movimientos</h2>
        @for (item of expensesMovimientos; track $index) {

        <app-movimientos [expensesMovimientos]="item"></app-movimientos>

        }
    </section>
</main>

<p-dialog [(visible)]="visibleDialog" [modal]="true" [draggable]="false" appendTo="body" [style]="{ width: '85vw' }"
    [contentStyle]="{
    display: 'flex',
    justifyContent: 'center',
  }" [breakpoints]="{ '1024px': '85vw', '640px': '95vw' }">

    <app-form-gastos [mode]="'create'" (close)="closeDialog()" (loading)="setLoading($event)">
    </app-form-gastos>
</p-dialog>

<app-loading [loading]="loading"></app-loading>