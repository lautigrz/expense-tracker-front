<main @revealTopToBottom>
    <nav>
        <app-nav></app-nav>
    </nav>
    <section class="content" @sectionEnter>
        <app-expense-filters [cleanFechas]="cleanFechasSignal" (selectedFilter)="setRange($event)"
            (selectedCategory)="setCategory($event)" (selectedDateRange)="setFechas($event)">
        </app-expense-filters>
    </section>
    <section class="content" @sectionEnter>
        <app-total-gastado [total]="total"></app-total-gastado>
    </section>
    @if (!loading && expenses.length === 0) {
    <section class="content" @sectionEnter>
        <app-empty-state icon="search" title="No se encontraron gastos en este mes"
            message="Proba cambiando el filtro o agregando un nuevo gasto."></app-empty-state>
    </section>
    }

    @if (!loading && expenses.length > 0) {
    <section class="content" @sectionEnter>
        @for (expense of expenses; track expense.id) {
        <app-movimientos @itemCascade [expensesMovimientos]="expense" (delete)="deleteExpense($event)">
        </app-movimientos>
        }
    </section>
    }
</main>